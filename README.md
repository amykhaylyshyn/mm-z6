# Лабораторна робота №6. Завдання 1. Варіант 9

## Побудова logit-моделі з дискретними залежними змінними

### Опис завдання

Необхідно побудувати logit-модель для класифікації підприємств на дві групи (A та B) на основі п'яти економічних показників:

- **X1** – продуктивність праці
- **X2** – питома вага робітників у складі промислово-виробничого персоналу
- **X3** – коефіцієнт змінності обладнання
- **X4** – питома вага втрат від браку
- **X5** – фондовіддача активної частини основних виробничих фондів

### Вхідні дані

**Файл:** `firms_data.csv`

Містить дані про 19 підприємств з їх економічними показниками.

**Розподіл за варіантом 9:**
- **Група A (0):** підприємства № 1, 3, 4, 5, 6, 8, 24, 29
- **Група B (1):** підприємства № 14, 15, 16, 21, 23, 27, 28, 41
- **Для прогнозу:** підприємства № 2, 12, 43 (не входять у навчальні вибірки)

### Завдання

1. **Оцінити параметри logit-моделі** та розрахувати кількість випадків правильного віднесення до відповідної групи.

2. **Визначити середні маржинальні ефекти**, використовуючи вибіркові середні факторні ознаки.

3. **Визначити ймовірність віднесення до групи «B»** підприємств, що залишилися, і провести їх класифікацію.

### Структура проєкту

```
Завдання6/
│
├── firms_data.csv                      # Вхідні дані
├── logit_analysis.py                   # Основний скрипт аналізу
├── README.md                           # Цей файл
├── requirements.txt                    # Залежності Python
│
└── (після запуску з'являться):
    ├── logit_analysis_results.png      # Графіки результатів
    └── logit_factor_dependencies.png   # Графіки залежностей
```

### Встановлення залежностей

Перед запуском встановіть необхідні бібліотеки:

```bash
pip install -r requirements.txt
```

Або вручну:

```bash
pip install pandas numpy matplotlib seaborn scipy statsmodels scikit-learn
```

### Запуск програми

```bash
python logit_analysis.py
```

### Що виводить програма

#### 1. Консольний вивід:

- **Крок 1:** Завантаження та підготовка даних
  - Вихідні дані
  - Розподіл на навчальну вибірку та підприємства для прогнозу
  - Описова статистика

- **Крок 2:** Побудова logit-моделі
  - Повний звіт моделі (коефіцієнти, стандартні помилки, p-значення)
  - Рівняння моделі з оціненими параметрами

- **Крок 3:** Оцінка кількості правильних класифікацій (п.1)
  - Таблиця спостережуваних та прогнозованих значень
  - Матриця класифікації
  - Відсоток правильних класифікацій

- **Крок 4:** Обчислення середніх факторних ознак
  - Середні значення X1-X5

- **Крок 5:** Розрахунок середніх маржинальних ефектів (п.2)
  - Таблиця маржинальних ефектів
  - Інтерпретація впливу кожного фактора

- **Крок 6:** Прогноз для підприємств, що не увійшли у вибірки (п.3)
  - Прогнозовані ймовірності
  - Класифікація підприємств

- **Крок 7:** Візуалізація результатів
  - Збереження графіків у PNG-файли

#### 2. Графічний вивід:

**Файл `logit_analysis_results.png`:**
- Бар-чарт маржинальних ефектів
- Розподіл прогнозованих ймовірностей
- Матриця класифікації (heatmap)
- Scatter plot: реальні групи vs прогнозовані ймовірності

**Файл `logit_factor_dependencies.png`:**
- Залежність ймовірності P(B) від кожного з п'яти факторів окремо

### Інтерпретація результатів

#### Рівняння logit-моделі:

```
P(Y=1|X) = exp(u) / (1 + exp(u))
де u = β₀ + β₁·X₁ + β₂·X₂ + β₃·X₃ + β₄·X₄ + β₅·X₅
```

#### Маржинальні ефекти:

Показують, як зміна кожного фактора на 1 одиницю впливає на ймовірність належності до групи B при фіксованих інших факторах.

- **Позитивний ефект** → збільшення фактора підвищує ймовірність належності до групи B
- **Негативний ефект** → збільшення фактора знижує ймовірність належності до групи B

#### Класифікація:

При порозі 0.5:
- Якщо P(B) ≥ 0.5 → підприємство класифікується як група B
- Якщо P(B) < 0.5 → підприємство класифікується як група A

### Технічні деталі

**Використані бібліотеки:**
- `pandas` – робота з даними
- `numpy` – числові обчислення
- `statsmodels` – побудова logit-моделі
- `scikit-learn` – метрики класифікації
- `matplotlib`, `seaborn` – візуалізація

**Метод оцінювання:** BFGS (Broyden–Fletcher–Goldfarb–Shanno)

**Критерій класифікації:** поріг ймовірності 0.5

### Висновки

Програма виконує повний аналіз logit-моделі відповідно до завдання:

1. ✅ Оцінює параметри моделі та якість класифікації
2. ✅ Розраховує маржинальні ефекти при середніх значеннях
3. ✅ Прогнозує групу для підприємств, що не увійшли у вибірки
4. ✅ Візуалізує результати аналізу

### Автор

Python-реалізація лабораторної роботи №6, Завдання 1, Варіант 9

### Ліцензія

Навчальний проєкт
